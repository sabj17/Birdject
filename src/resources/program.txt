#include <dht.h>

dht DHT;

#define pin1 1
#define pin2 2
#define pin3 3
#define pin4 4
#define pin5 5
#define pin6 6
#define pin7 7
#define pin8 8
#define pin9 9
#define pin10 10
#define pin11 11
#define pin12 12
#define pin13 13
#define pinA0 A0
#define pinA1 A1
#define pinA2 A2
#define pinA3 A3
#define pinA4 A4
#define pinA5 A5



class Output {
  public:
    int pin;
    int state = 0;

    Output(int inputPin) {
      pin = inputPin;
    }
    void setupClass() {
      pinMode(pin, OUTPUT);
    }


    void setState(int newState) {
      state = newState;
      digitalWrite(pin, newState);
    }

    int getState(){
      return state;
    }

    int switchState() {
      if (state) {
        state = 0;
      } else {
        state = 1;
      }
      digitalWrite(pin, state);
      delay(100);
      return state;
    }
};

class Light : public Output {
  public:
    Light (int inputPin): Output(inputPin) {}
};

class Input {
  public:
    int pin;

    Input (int inputPin) {
      pin = inputPin;
    }

    void setupClass() {
      pinMode(pin, INPUT);
    }

    int Read() {
      return digitalRead(pin);
    }
};


class Switch : public Input {
  public:
    Switch (int inputPin): Input(inputPin) {}
};

class Thermometer : public Input {
  public:
    Thermometer (int inputPin): Input(inputPin) {}

    float Read() {
        DHT.read11(pin);
        return DHT.temperature;
    }
};



class LivingRoomClass {
  public:
	Light light1;
	Thermometer temp1;

	LivingRoomClass() : light1(pin8) , temp1(pinA0) {}

} LivingRoom;



class KitchenClass {
  public:
	Light light2;

	KitchenClass() : light2(pin9) {}

} Kitchen;

Switch mainSwitch(pin2);

bool x = false;

bool y = false;

float z = 0.0;


	void updateLights (){
	x = 	LivingRoom.light1.switchState();

	y = 	Kitchen.light2.switchState();

	}


void setup() {
	Serial.begin(9600);
	LivingRoom.light1.setupClass();
	LivingRoom.temp1.setupClass();
	Kitchen.light2.setupClass();
	mainSwitch.setupClass();
}

void loop() {

	if (mainSwitch.Read()){
	updateLights();
	if (x == true) {
		Serial.println(String("LivingRoom Light is on"));
	}
	else {
		Serial.println(String("LivingRoom Light is off"));
	}
	if (y == true) {
		Serial.println(String("Kitchen Light is on"));
	}
	else {
		Serial.println(String("Kitchen Light is off"));
	}
	x = false;
	y = false;
	z = 	LivingRoom.temp1.Read();

	Serial.println(z);
	delay(1000);
	}

	if (LivingRoom.temp1.Read() > 20){
	Serial.println(String("nou"));
	}
}
